(this["webpackJsonphackathon-teamup-frontend"]=this["webpackJsonphackathon-teamup-frontend"]||[]).push([[0],{30:function(e,t,a){e.exports=a(42)},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return W}));var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=(a(35),a(9)),i=a(10),s=a(12),u=a(11),m=a(3),h=function(){return r.a.createElement("div",{className:"NavBar"},r.a.createElement(m.c,{exact:!0,to:"/"},"About"),r.a.createElement(m.c,{exact:!0,to:"/teams"}," Teams "),r.a.createElement(m.c,{exact:!0,to:"/newTeam"}," New Team "),r.a.createElement(m.c,{exact:!0,to:"/collaborators"}," Collaborators "),r.a.createElement(m.c,{exact:!0,to:"/newCollaborator"}," New Collaborator "))},b=function(){return r.a.createElement("div",{className:"About"},r.a.createElement("h2",null,"Welcome to Hackathon Teamup"),r.a.createElement("h1",null,"Organize your event by registering teams and event participants.  Teams can fill their ranks by finding participants who have the skills they're looking for."))},p=a(17),f=a(4),E=a(13),d="https://safe-fjord-18355.herokuapp.com/teams/",O=a(2),T=function(e){var t=e.error;return t?r.a.createElement("div",{className:"error"},"\u26a0",t,"\u26a0"):r.a.createElement("div",null)},v=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",description:"",error:""},e.handleOnChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleOnSubmit=function(t){t.preventDefault(),e.setState({error:""});var a=e.props.teams.filter((function(t){return t.name.toLowerCase()===e.state.name.toLowerCase()}));""===e.state.name||""===e.state.description?e.setState({error:"field(s) must not be left blank"}):a.length?e.setState({error:"only one team may use this name"}):(e.props.createTeam({name:e.state.name,description:e.state.description},e.props.history),e.setState({name:"",description:""}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"newTeam"},r.a.createElement("h2",null,"New Team"),r.a.createElement(T,{error:this.state.error}),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("p",null,r.a.createElement("label",null,"Team Name:"),r.a.createElement("input",{name:"name",type:"text",onChange:this.handleOnChange,value:this.state.name})),r.a.createElement("p",null,r.a.createElement("label",null,"Project Description:"),r.a.createElement("input",{name:"description",type:"text",onChange:this.handleOnChange,value:this.state.description})),r.a.createElement("input",{type:"submit",onSubmit:this.handleOnSubmit})))}}]),a}(n.Component),j=Object(O.f)(Object(f.b)((function(e){return{teams:e.teams}}),{createTeam:function(e,t){return function(a){var n={team:e};return fetch(d,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.id?(a(function(e){return{type:"ADD_TEAM",team:e}}(Object(E.a)(Object(E.a)({},e),{},{collaborators:[]}))),t.push("/teams")):alert(JSON.stringify(e))}))}}})(v)),y="https://safe-fjord-18355.herokuapp.com/collaborators/",C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",role:"",skills:"",error:""},e.handleOnChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleOnSubmit=function(t){t.preventDefault(),e.setState({error:""}),e.state.name&&e.state.role&&e.state.skills?(e.props.createCollaborator(e.state,e.props.history),e.setState({name:"",role:"",skills:""})):e.setState({error:"field(s) must not be left blank"})},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"newCollaborator"},r.a.createElement("h2",null,"New Collaborator"),r.a.createElement(T,{error:this.state.error}),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("p",null,r.a.createElement("label",null,"Name:"),r.a.createElement("input",{name:"name",type:"text",onChange:this.handleOnChange,value:this.state.name})),r.a.createElement("p",null,r.a.createElement("label",null,"Role:"),r.a.createElement("input",{name:"role",type:"text",onChange:this.handleOnChange,value:this.state.role})),r.a.createElement("p",null,r.a.createElement("label",null,"Skills:"),r.a.createElement("input",{name:"skills",type:"text",onChange:this.handleOnChange,value:this.state.skills})),r.a.createElement("input",{type:"submit",onSubmit:this.handleOnSubmit})))}}]),a}(n.Component),A=Object(O.f)(Object(f.b)(null,{createCollaborator:function(e,t){return function(a){var n={collaborator:e};return fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.id?(a(function(e){return{type:"ADD_COLLABORATOR",collaborator:e}}(Object(E.a)(Object(E.a)({},e),{},{teams:[]}))),t.push("/collaborators")):alert(JSON.stringify(e))}))}}})(C)),S=function(e){var t=e.collaborators;return t.length?r.a.createElement("div",{className:"TeamMembers"},r.a.createElement("p",null,"Team Members"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(m.b,{key:e.id,to:"/collaborators/".concat(e.id)},e.name))})))):r.a.createElement("h3",null,"...No Members Yet...")},g=function(e){var t=e.team;return t?r.a.createElement("div",{className:"Team"},r.a.createElement("h3",null,t.name),r.a.createElement("p",null,"Project Description: ",t.description),r.a.createElement(S,{collaborators:t.collaborators})):r.a.createElement("h3",null,"...No Team Here...")},_=function(e){var t=e.teams,a=e.deleteTeam,n=t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(m.b,{key:e.id,to:"/teams/".concat(e.id)},e.name),r.a.createElement("button",{onClick:function(){return function(e){a(e)}(e)},className:"delete"},"Delete"))}));return r.a.createElement("div",{className:"SideBar"},r.a.createElement("h4",null,"List of Teams "),r.a.createElement("ul",null,n))},L=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"TeamsContainer"},r.a.createElement(_,{teams:this.props.teams,deleteTeam:this.props.deleteTeam}),r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/teams/:id",render:function(t){var a=e.props.teams.find((function(e){return e.id===parseInt(t.match.params.id)}));return r.a.createElement(g,Object.assign({},t,{team:a}))}})))}}]),a}(r.a.Component),D=Object(f.b)((function(e){return{teams:e.teams}}),{deleteTeam:function(e){return function(t){return fetch(d+e.id,{method:"DELETE"}).then(t(function(e){return{type:"DELETE_TEAM",team:e}}(e))).then(t(function(e){return{type:"DELETE_TEAM_FROM_COLLABORATORS",team:e}}(e)))}}})(L),k=a(18),N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={team:null},n.handleChange=n.handleChange.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(i.a)(a,[{key:"handleChange",value:function(e){this.setState({team:this.props.availableTeams[e.target.value]})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.team&&(this.props.createTeamMember(this.props.collaborator,this.state.team),this.setState({team:null}))}},{key:"render",value:function(){return this.props.availableTeams.length?r.a.createElement("div",{className:"TeamSelect"},r.a.createElement("form",{value:this.state.team,onSubmit:this.handleSubmit},r.a.createElement("label",null,"Select a Team:",r.a.createElement("select",{onChange:this.handleChange},r.a.createElement("option",{value:null},"Select a Team"),this.props.availableTeams.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)})))),r.a.createElement("input",{type:"submit",value:"Join Team"}))):r.a.createElement("div",null,"You're on all the teams")}}]),a}(r.a.Component),R=Object(f.b)(null,{createTeamMember:function(e,t){return function(a){var n={team_id:"".concat(t.id),collaborator_id:"".concat(e.id)};return fetch("https://safe-fjord-18355.herokuapp.com/team_members/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(n){return n.error?alert(n.error):(a(function(e,t){return{type:"ADD_TEAM_TO_COLLABORATOR",collaboratorID:e,team:t}}(n.collaborator_id,t)),a(function(e,t){return{type:"ADD_COLLABORATOR_TO_TEAM",teamID:e,collaborator:t}}(n.team_id,e))),n}))}}})(N),w=function(e){var t=e.teams;return t.length?r.a.createElement("div",{className:"MemberTeams"},r.a.createElement("p",null,"Teams"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(m.b,{key:e.id,to:"/teams/".concat(e.id)},e.name))})))):r.a.createElement("h3",null,"...No Teams Yet...")},M=function(e){var t=e.collaborator,a=e.teams;return t?r.a.createElement("div",{className:"Collaborator"},r.a.createElement("h3",null,t.name),r.a.createElement("p",null,"Primary Role: ",t.role),r.a.createElement("p",null,"Skills: ",t.skills),r.a.createElement(w,{teams:t.teams}),r.a.createElement(R,{collaborator:t,availableTeams:a.filter((function(e){var a=e.name;return!t.teams.some((function(e){return e.name===a}))}))})):r.a.createElement("h3",null,"...No Collaborator Here...")},B=function(e){var t=e.collaborators,a=e.deleteCollaborator,n=t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(m.b,{key:e.id,to:"/collaborators/".concat(e.id)},e.name),r.a.createElement("button",{onClick:function(){return function(e){a(e)}(e)},className:"delete"},"Delete"))}));return r.a.createElement("div",{className:"SideBar"},r.a.createElement("h4",null,"List of Collaborators"),r.a.createElement("ul",null,n))},x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={count:0},e.handleOnClick=function(){fetch("http://localhost:3000/collaborators/").then((function(e){return e.json()})).then((function(e){return console.log("c",e)})).catch((function(e){return console.log("d",e)})),console.log("e")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"CollaboratorsContainer"},r.a.createElement(B,{collaborators:this.props.collaborators,deleteCollaborator:this.props.deleteCollaborator}),r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/collaborators/:id",render:function(t){var a=e.props.collaborators.find((function(e){return e.id===parseInt(t.match.params.id)}));return r.a.createElement(M,Object.assign({},t,{collaborator:a,teams:e.props.teams}))}})))}}]),a}(r.a.Component),I=Object(f.b)((function(e){return{collaborators:e.collaborators,teams:e.teams}}),{deleteCollaborator:function(e){return function(t){return fetch(y+e.id,{method:"DELETE"}).then(t(function(e){return{type:"DELETE_COLLABORATOR",collaborator:e}}(e))).then(t(function(e){return{type:"DELETE_COLLABORATOR_FROM_TEAMS",collaborator:e}}(e)))}}})(x),J=(a(41),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchCollaborators(),this.props.fetchTeams()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Hackathon Teamup"),r.a.createElement(h,null),r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,from:"/",component:b}),r.a.createElement(O.a,{exact:!0,path:"/newTeam",component:j}),r.a.createElement(O.a,{exact:!0,path:"/newCollaborator",component:A}),r.a.createElement(O.a,{path:"/collaborators",component:I}),r.a.createElement(O.a,{path:"/teams",component:D})))}}]),a}(n.Component)),P=Object(f.b)(null,{fetchCollaborators:function(){return function(e){return fetch(y).then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"LOAD_COLLABORATORS",collaborators:e}}(t))}))}},fetchTeams:function(){return function(e){return fetch(d).then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"LOAD_TEAMS",teams:e}}(t))}))}}})(J),F=a(14),H=a(29),Y=a(15),X=Object(F.c)({teams:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=[],r=[];switch(a.type){case"LOAD_TEAMS":return a.teams;case"ADD_TEAM":return t.concat(a.team);case"DELETE_TEAM":return t.filter((function(e){return e!==a.team}));case"ADD_COLLABORATOR_TO_TEAM":return e=t.findIndex((function(e){return e.id===a.teamID})),n=t[e].collaborators,[].concat(Object(Y.a)(t.slice(0,e)),[Object(E.a)(Object(E.a)({},t[e]),{},{collaborators:[].concat(Object(Y.a)(n),[a.collaborator])})],Object(Y.a)(t.slice(e+1)));case"DELETE_COLLABORATOR_FROM_TEAMS":return(r=t).forEach((function(e){return e.collaborators=e.collaborators.filter((function(e){return e.id!==a.collaborator.id}))})),r;default:return t}},collaborators:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=[],r=[];switch(a.type){case"LOAD_COLLABORATORS":return a.collaborators;case"ADD_COLLABORATOR":return t.concat(a.collaborator);case"DELETE_COLLABORATOR":return t.filter((function(e){return e!==a.collaborator}));case"ADD_TEAM_TO_COLLABORATOR":return e=t.findIndex((function(e){return e.id===a.collaboratorID})),n=t[e].teams,[].concat(Object(Y.a)(t.slice(0,e)),[Object(E.a)(Object(E.a)({},t[e]),{},{teams:[].concat(Object(Y.a)(n),[a.team])})],Object(Y.a)(t.slice(e+1)));case"DELETE_TEAM_FROM_COLLABORATORS":return(r=t).forEach((function(e){return e.teams=e.teams.filter((function(e){return e.id!==a.team.id}))})),r;default:return t}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=a(6),U=Object(z.a)(),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,W=Object(F.e)(X,V(Object(F.a)(H.a)));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:W},r.a.createElement(m.a,{history:U},r.a.createElement(P,null)))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.55a7a1b7.chunk.js.map