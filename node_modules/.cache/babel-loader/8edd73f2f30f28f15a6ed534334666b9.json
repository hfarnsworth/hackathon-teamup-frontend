{"ast":null,"code":"import _objectSpread from\"/Users/mymac/Development/code/hackathon-teamup/hackathon-teamup-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var API=\"https://safe-fjord-18355.herokuapp.com/\";var collaboratorsAPI=API+\"collaborators/\";var loadCollaborators=function loadCollaborators(collaborators){return{type:\"LOAD_COLLABORATORS\",collaborators:collaborators};};var addCollaborator=function addCollaborator(collaborator){return{type:\"ADD_COLLABORATOR\",collaborator:collaborator};};var removeCollaborator=function removeCollaborator(collaborator){return{type:\"DELETE_COLLABORATOR\",collaborator:collaborator};};var removeCollaboratorFromTeams=function removeCollaboratorFromTeams(collaborator){return{type:\"DELETE_COLLABORATOR_FROM_TEAMS\",collaborator:collaborator};};export var fetchCollaborators=function fetchCollaborators(){return function(dispatch){return fetch(collaboratorsAPI).then(function(resp){return resp.json();}).then(function(collaborators){return dispatch(loadCollaborators(collaborators));});};};export var createCollaborator=function createCollaborator(collaborator,history){return function(dispatch){var body={collaborator:collaborator};return fetch(collaboratorsAPI,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify(body)}).then(function(r){return r.json();}).then(function(newCollaborator){if(!newCollaborator.id){alert(JSON.stringify(newCollaborator));}else{dispatch(addCollaborator(_objectSpread(_objectSpread({},newCollaborator),{},{teams:[]})));history.push('/collaborators');}});};};export var deleteCollaborator=function deleteCollaborator(collaborator){return function(dispatch){return fetch(collaboratorsAPI+collaborator.id,{method:\"DELETE\"}).then(dispatch(removeCollaborator(collaborator))).then(dispatch(removeCollaboratorFromTeams(collaborator)));};};","map":{"version":3,"sources":["/Users/mymac/Development/code/hackathon-teamup/hackathon-teamup-frontend/src/actions/collaborators.js"],"names":["API","collaboratorsAPI","loadCollaborators","collaborators","type","addCollaborator","collaborator","removeCollaborator","removeCollaboratorFromTeams","fetchCollaborators","dispatch","fetch","then","resp","json","createCollaborator","history","body","method","headers","JSON","stringify","r","newCollaborator","id","alert","teams","push","deleteCollaborator"],"mappings":"8LAAA,GAAMA,CAAAA,GAAG,CAAG,yCAAZ,CACA,GAAMC,CAAAA,gBAAgB,CAAGD,GAAG,CAAG,gBAA/B,CAEA,GAAME,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAC,aAAa,QAAK,CAAEC,IAAI,CAAE,oBAAR,CAA8BD,aAAa,CAAbA,aAA9B,CAAL,EAAvC,CAEA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,YAAY,QAAK,CAAEF,IAAI,CAAE,kBAAR,CAA4BE,YAAY,CAAZA,YAA5B,CAAL,EAApC,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAD,YAAY,QAAK,CAACF,IAAI,CAAE,qBAAP,CAA8BE,YAAY,CAAZA,YAA9B,CAAL,EAAvC,CAEA,GAAME,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,CAAAF,YAAY,QAAK,CAACF,IAAI,CAAE,gCAAP,CAAyCE,YAAY,CAAZA,YAAzC,CAAL,EAAhD,CAEA,MAAO,IAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CACtC,MAAO,UAAAC,QAAQ,CAAI,CACjB,MAAOC,CAAAA,KAAK,CAACV,gBAAD,CAAL,CACJW,IADI,CACC,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EADL,EAEJF,IAFI,CAEC,SAAAT,aAAa,QACjBO,CAAAA,QAAQ,CAACR,iBAAiB,CAACC,aAAD,CAAlB,CADS,EAFd,CAAP,CAKD,CAND,CAOD,CARM,CAUP,MAAO,IAAMY,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACT,YAAD,CAAcU,OAAd,CAA0B,CAC1D,MAAO,UAAAN,QAAQ,CAAI,CACjB,GAAMO,CAAAA,IAAI,CAAG,CACXX,YAAY,CAAZA,YADW,CAAb,CAGA,MAAOK,CAAAA,KAAK,CAACV,gBAAD,CAAmB,CAC7BiB,MAAM,CAAE,MADqB,CAE7BC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,SAAU,kBAFH,CAFoB,CAM7BF,IAAI,CAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf,CANuB,CAAnB,CAAL,CAQJL,IARI,CAQC,SAAAU,CAAC,QAAIA,CAAAA,CAAC,CAACR,IAAF,EAAJ,EARF,EASJF,IATI,CASC,SAAAW,eAAe,CAAI,CACvB,GAAI,CAACA,eAAe,CAACC,EAArB,CAAyB,CACvBC,KAAK,CAACL,IAAI,CAACC,SAAL,CAAeE,eAAf,CAAD,CAAL,CACD,CAFD,IAEO,CACLb,QAAQ,CAACL,eAAe,gCACnBkB,eADmB,MAEtBG,KAAK,CAAE,EAFe,GAAhB,CAAR,CAIAV,OAAO,CAACW,IAAR,CAAa,gBAAb,EACD,CACF,CAnBI,CAAP,CAoBD,CAxBD,CAyBD,CA1BM,CA4BP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAtB,YAAY,CAAI,CAChD,MAAO,UAAAI,QAAQ,CAAI,CACjB,MAAOC,CAAAA,KAAK,CAACV,gBAAgB,CAAGK,YAAY,CAACkB,EAAjC,CAAqC,CAC/CN,MAAM,CAAE,QADuC,CAArC,CAAL,CAGNN,IAHM,CAGDF,QAAQ,CAACH,kBAAkB,CAACD,YAAD,CAAnB,CAHP,EAINM,IAJM,CAIDF,QAAQ,CAACF,2BAA2B,CAACF,YAAD,CAA5B,CAJP,CAAP,CAKD,CAND,CAOD,CARM","sourcesContent":["const API = \"https://safe-fjord-18355.herokuapp.com/\"\nconst collaboratorsAPI = API + \"collaborators/\"\n\nconst loadCollaborators = collaborators => ({ type: \"LOAD_COLLABORATORS\", collaborators })\n\nconst addCollaborator = collaborator => ({ type: \"ADD_COLLABORATOR\", collaborator })\n\nconst removeCollaborator = collaborator => ({type: \"DELETE_COLLABORATOR\", collaborator })\n\nconst removeCollaboratorFromTeams = collaborator => ({type: \"DELETE_COLLABORATOR_FROM_TEAMS\", collaborator })\n\nexport const fetchCollaborators = () => {\n  return dispatch => {\n    return fetch(collaboratorsAPI)\n      .then(resp => resp.json())\n      .then(collaborators => \n        dispatch(loadCollaborators(collaborators))\n      )\n  }\n}\n\nexport const createCollaborator = (collaborator,history) => {\n  return dispatch => {\n    const body = {\n      collaborator\n    }\n    return fetch(collaboratorsAPI, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    })\n      .then(r => r.json())\n      .then(newCollaborator => {\n        if (!newCollaborator.id) {\n          alert(JSON.stringify(newCollaborator))\n        } else {\n          dispatch(addCollaborator({\n            ...newCollaborator,\n            teams: [],\n          }))\n          history.push('/collaborators')\n        }\n      })\n  }\n}\n\nexport const deleteCollaborator = collaborator => {\n  return dispatch => {\n    return fetch(collaboratorsAPI + collaborator.id, {\n      method: \"DELETE\"\n    })\n    .then(dispatch(removeCollaborator(collaborator)))\n    .then(dispatch(removeCollaboratorFromTeams(collaborator)))\n  }\n}"]},"metadata":{},"sourceType":"module"}